import E from"./BXMun1o3.js";import{q as V,a as j,E as y,r as C,F as H,G as T,H as U,I as F,J as L,K as N,L as S,M as p,N as $,O as I,P as K,Q as k,R as G,o as q,S as J,v as Q,z as W,T as x,U as X,V as Y,t as O,i as Z}from"./DDLOKn-s.js";import{u as A}from"./Dbd6d-54.js";const ee=()=>{const r=V();return{baseURL:r.apiBase||r.public.apiBase}},te=r=>r==="defer"||r===!1;function ae(...r){var v;const n=typeof r[r.length-1]=="string"?r.pop():void 0;typeof r[0]!="string"&&r.unshift(n);let[a,f,e={}]=r;if(typeof a!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof f!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const t=j(),_=f,D=()=>y.value,w=()=>t.isHydrating?t.payload.data[a]:t.static.data[a];e.server=e.server??!0,e.default=e.default??D,e.getCachedData=e.getCachedData??w,e.lazy=e.lazy??!1,e.immediate=e.immediate??!0,e.deep=e.deep??y.deep,e.dedupe=e.dedupe??"cancel";const o=()=>e.getCachedData(a,t)!=null;if(!t._asyncData[a]||!e.immediate){(v=t.payload._errors)[a]??(v[a]=y.errorValue);const l=e.deep?C:H;t._asyncData[a]={data:l(e.getCachedData(a,t)??e.default()),pending:C(!o()),error:T(t.payload._errors,a),status:C("idle"),_default:e.default}}const s={...t._asyncData[a]};delete s._default,s.refresh=s.execute=(l={})=>{if(t._asyncDataPromises[a]){if(te(l.dedupe??e.dedupe))return t._asyncDataPromises[a];t._asyncDataPromises[a].cancelled=!0}if((l._initial||t.isHydrating&&l._initial!==!1)&&o())return Promise.resolve(e.getCachedData(a,t));s.pending.value=!0,s.status.value="pending";const u=new Promise((d,i)=>{try{d(_(t))}catch(h){i(h)}}).then(async d=>{if(u.cancelled)return t._asyncDataPromises[a];let i=d;e.transform&&(i=await e.transform(d)),e.pick&&(i=se(i,e.pick)),t.payload.data[a]=i,s.data.value=i,s.error.value=y.errorValue,s.status.value="success"}).catch(d=>{if(u.cancelled)return t._asyncDataPromises[a];s.error.value=S(d),s.data.value=p(e.default()),s.status.value="error"}).finally(()=>{u.cancelled||(s.pending.value=!1,delete t._asyncDataPromises[a])});return t._asyncDataPromises[a]=u,t._asyncDataPromises[a]},s.clear=()=>re(t,a);const m=()=>s.refresh({_initial:!0}),c=e.server!==!1&&t.payload.serverRendered;{const l=$();if(l&&!l._nuxtOnBeforeMountCbs){l._nuxtOnBeforeMountCbs=[];const i=l._nuxtOnBeforeMountCbs;U(()=>{i.forEach(h=>{h()}),i.splice(0,i.length)}),F(()=>i.splice(0,i.length))}c&&t.isHydrating&&(s.error.value||o())?(s.pending.value=!1,s.status.value=s.error.value?"error":"success"):l&&(t.payload.serverRendered&&t.isHydrating||e.lazy)&&e.immediate?l._nuxtOnBeforeMountCbs.push(m):e.immediate&&m();const u=I();if(e.watch){const i=L(e.watch,()=>s.refresh());u&&N(i)}const d=t.hook("app:data:refresh",async i=>{(!i||i.includes(a))&&await s.refresh()});u&&N(d)}const g=Promise.resolve(t._asyncDataPromises[a]).then(()=>s);return Object.assign(g,s),g}function re(r,n){n in r.payload.data&&(r.payload.data[n]=void 0),n in r.payload._errors&&(r.payload._errors[n]=y.errorValue),r._asyncData[n]&&(r._asyncData[n].data.value=r._asyncData[n]._default(),r._asyncData[n].error.value=y.errorValue,r._asyncData[n].pending.value=!1,r._asyncData[n].status.value="idle"),n in r._asyncDataPromises&&(r._asyncDataPromises[n]&&(r._asyncDataPromises[n].cancelled=!0),r._asyncDataPromises[n]=void 0)}function se(r,n){const a={};for(const f of n)a[f]=r[f];return a}const le={__name:"[...slug]",async setup(r){var u,d,i,h,P,b,B,R;let n,a;K();const f=k(),e=ee();let t=f.fullPath.split("?")[0];t==="/"&&(t="/md-riaj");const{data:_,error:D,pending:w}=([n,a]=G(()=>ae(f.fullPath,()=>$fetch(`/api/v2/pages/find/?format=json&redirect=false&html_path=${t}`,e),"$6tErGBzshl")),n=await n,a(),n);if(D.value||_.value==null)throw S({statusCode:404,statusMessage:"Page Not Found?"});const o=_.value,s=o.meta.type.split(".")[1],m=o.meta.seo_title||`${o.title} | ${((d=(u=o==null?void 0:o.meta)==null?void 0:u.parent)==null?void 0:d.title)||"Mavi"}`,c=o.opengraph_image||((h=(i=o==null?void 0:o.meta)==null?void 0:i.parent)==null?void 0:h.opengraph_image)||!1,g=c?c.renditions.facebook:!1,v=c?c.renditions.twitter:!1,l={"@context":"https://schema.org","@type":"Organization",url:"https://shantaholdings.com/",logo:"https://shantaholdings.com/logo.png"};return A({title:m,meta:[{property:"og:title",content:m},{name:"description",content:o.meta.search_description},{property:"og:description",content:o.meta.search_description},{property:"og:image",content:e.baseURL+g},{property:"og:image:width",content:(P=c==null?void 0:c.facebook)==null?void 0:P.width},{property:"og:image:height",content:(b=c==null?void 0:c.facebook)==null?void 0:b.height},{property:"twitter:card",content:"summary_large_image"},{property:"twitter:title",content:m},{property:"twitter:description",content:o.meta.search_description},{property:"twitter:image",content:e.baseURL+v},{property:"twitter:image:width",content:(B=c==null?void 0:c.twitter)==null?void 0:B.width},{property:"twitter:image:height",content:(R=c==null?void 0:c.twitter)==null?void 0:R.height}],script:[{type:"application/ld+json",vmid:"org-logo",json:l}]}),q(()=>{J.normalizeScroll(!0)}),(M,ne)=>{const z=E;return O(),Q("div",null,[W(z,{isNavbarDark:!p(o).is_navbar_dark},null,8,["isNavbarDark"]),p(w)?Y("",!0):(O(),x(X(("resolveComponent"in M?M.resolveComponent:p(Z))(p(s))),{key:"page"+(p(o)?p(o).id:"none"),pageData:p(o)},null,8,["pageData"]))])}}};export{le as default};
